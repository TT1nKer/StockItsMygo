# Strategy=Z è‚¡ç¥¨åˆ†æç³»ç»Ÿ

å®Œæ•´çš„è‚¡ç¥¨æ•°æ®åº“ç³»ç»Ÿï¼ŒåŒ…å«2,156åªNASDAQè‚¡ç¥¨çš„å†å²æ•°æ®ã€å¤šç­–ç•¥åˆ†æå’Œæ¯æ—¥è§‚å¯Ÿå·¥ä½œæµç¨‹ã€‚

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

- **æ•°æ®åº“å¤§å°**: 1.5 GB
- **è‚¡ç¥¨æ•°é‡**: 2,156åª NASDAQè‚¡ç¥¨
- **æ•°æ®è¦†ç›–**: 100% ä»·æ ¼å†å²æ•°æ®
- **æ—¶é—´è·¨åº¦**: 10-30å¹´å®Œæ•´å†å²
- **æ•°æ®ç²¾åº¦**: æ—¥çº¿ + åˆ†é’Ÿçº§ï¼ˆè§‚å¯Ÿåˆ—è¡¨ï¼‰
- **ç­–ç•¥ç³»ç»Ÿ**: 3ç§å†…ç½®ç­–ç•¥ + è‡ªå®šä¹‰æ¡†æ¶
- **å·¥ä½œæ¨¡å¼**: è§‚å¯Ÿæ¨¡å¼ï¼ˆäº¤æ˜“å‰ç»ƒä¹ ï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
strategy=Z/
â”œâ”€â”€ db/                         # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ stock.db               # SQLiteæ•°æ®åº“æ–‡ä»¶ (1.47 GB)
â”‚   â”œâ”€â”€ init_db.py            # æ•°æ®åº“åˆå§‹åŒ–å’Œè¡¨ç»“æ„
â”‚   â””â”€â”€ api.py                # StockDB APIç±»
â”‚
â”œâ”€â”€ script/                     # åˆ†æè„šæœ¬
â”‚   â””â”€â”€ judgeV0.py            # è‚¡ç¥¨ä¹°å–åˆ¤æ–­å‡½æ•°
â”‚
â”œâ”€â”€ DATA/                       # åŸå§‹æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ nasdaq-listed.csv     # NASDAQè‚¡ç¥¨åˆ—è¡¨ï¼ˆå®Œæ•´ç‰ˆï¼‰
â”‚   â””â”€â”€ nasdaq-listed-symbols.csv  # NASDAQè‚¡ç¥¨åˆ—è¡¨ï¼ˆç­›é€‰ç‰ˆï¼‰
â”‚
â”œâ”€â”€ tools/                      # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ check_data_coverage.py     # æ£€æŸ¥æ•°æ®è¦†ç›–ç‡
â”‚   â”œâ”€â”€ check_database.py          # æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
â”‚   â”œâ”€â”€ download_all_stocks.py     # ä¸‹è½½æ‰€æœ‰è‚¡ç¥¨æ•°æ®
â”‚   â”œâ”€â”€ estimate_download.py       # ä¼°ç®—ä¸‹è½½æ—¶é—´å’Œç©ºé—´
â”‚   â””â”€â”€ retry_failed_downloads.py  # é‡è¯•å¤±è´¥çš„ä¸‹è½½
â”‚
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ test_db.py             # Phase 1 æµ‹è¯•
â”‚   â”œâ”€â”€ test_phase2.py         # Phase 2 æµ‹è¯•
â”‚   â”œâ”€â”€ test_phase3.py         # Phase 3 æµ‹è¯•
â”‚   â””â”€â”€ test_phase4.py         # Phase 4 æµ‹è¯•
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”‚   â”œâ”€â”€ ä½¿ç”¨æŒ‡å—.md            # ä¸­æ–‡ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ HOW_TO_USE.md          # English usage guide
â”‚   â””â”€â”€ IMPLEMENTATION_SUMMARY.md  # å®ç°æ€»ç»“
â”‚
â””â”€â”€ README.md                   # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### â­ æ¯æ—¥è§‚å¯Ÿå·¥ä½œæµç¨‹ï¼ˆæ¨èï¼‰

**é€‚åˆ**: åœ¨å¼€å§‹çœŸå®äº¤æ˜“å‰ï¼Œæ¯å¤©è§‚å¯Ÿå’Œå­¦ä¹ 

```bash
python daily_observation.py
```

è¿™ä¼šè‡ªåŠ¨ï¼š
1. æ‰«æå¸‚åœºå¯»æ‰¾é«˜åŠ¨é‡è‚¡ç¥¨
2. æ›´æ–°ä½ çš„è§‚å¯Ÿåˆ—è¡¨
3. ä¸‹è½½è¯¦ç»†çš„åˆ†é’Ÿçº§æ•°æ®
4. è¿è¡Œ3ç§ç­–ç•¥å¯¹æ¯”åˆ†æ
5. ç”Ÿæˆç»“æ„åŒ–çš„æ¯æ—¥æŠ¥å‘Š

**æŠ¥å‘Šä½ç½®**: `reports/2025/01-January/Week_01/2025-01-01_Monday.md`

**è¯¦ç»†æŒ‡å—**: [è§‚å¯Ÿæ¨¡å¼ä½¿ç”¨æŒ‡å—](docs/OBSERVATION_MODE_GUIDE.md)

---

### 1. åŸºç¡€æŸ¥è¯¢

```python
from db.api import StockDB

db = StockDB()

# æŸ¥è¯¢è‚¡ç¥¨ä»·æ ¼å†å²
df = db.get_price_history('AAPL')
print(df.tail())

# è·å–æœ€æ–°ä»·æ ¼
latest = db.get_latest_price('AAPL')
print(f"æœ€æ–°ä»·æ ¼: ${latest['close']}")
```

### 2. ä½¿ç”¨åˆ¤æ–­å‡½æ•°

```python
from script.judgeV0 import judge

# ä½¿ç”¨æ•°æ®åº“æ¨¡å¼ï¼ˆå¿«é€Ÿï¼‰
result = judge('AAPL', use_db=True)
print(result)  # BUY, SELL, æˆ– HOLD
```

### 3. æ‰¹é‡åˆ†æ

```python
stocks = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'NVDA']

for symbol in stocks:
    latest = db.get_latest_price(symbol)
    print(f"{symbol}: ${latest['close']:.2f}")
```

## ğŸ“š æ•°æ®åº“åŒ…å«çš„æ•°æ®

### 1. ä»·æ ¼å†å² (2,156åªè‚¡ç¥¨)
- æ¯æ—¥OHLCVï¼ˆå¼€ç›˜ã€æœ€é«˜ã€æœ€ä½ã€æ”¶ç›˜ã€æˆäº¤é‡ï¼‰
- åˆ†çº¢è®°å½•
- æ‹†è‚¡è®°å½•

### 2. åˆ†æå¸ˆæ•°æ® (AAPL, GOOGL, MSFT)
- åˆ†æå¸ˆè¯„çº§
- ä»·æ ¼ç›®æ ‡
- æœºæ„æŒä»“
- å†…éƒ¨äº¤æ˜“

### 3. æŠ€æœ¯æŒ‡æ ‡ (AAPL, MSFT, NVDA)
- ç§»åŠ¨å¹³å‡çº¿ï¼ˆMA5, MA20, MA60ï¼‰
- RSIã€MACDã€å¸ƒæ—å¸¦

### 4. æœŸæƒæ•°æ® (AAPL, MSFT)
- æœŸæƒé“¾
- å¸Œè…Šå­—æ¯
- éšå«æ³¢åŠ¨ç‡

## ğŸ› ï¸ å¸¸ç”¨å·¥å…·

### æ£€æŸ¥æ•°æ®è¦†ç›–ç‡
```bash
python tools/check_data_coverage.py
```

### æ›´æ–°è‚¡ç¥¨æ•°æ®
```python
from db.api import StockDB
db = StockDB()

# æ›´æ–°å•åªè‚¡ç¥¨
db.download_price_history('AAPL')

# æ‰¹é‡æ›´æ–°
stocks = ['AAPL', 'MSFT', 'GOOGL']
db.batch_download_prices(stocks, workers=5)
```

### ä¸‹è½½æ‰€æœ‰è‚¡ç¥¨
```bash
python tools/download_all_stocks.py
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[ä½¿ç”¨æŒ‡å—.md](docs/ä½¿ç”¨æŒ‡å—.md)** - å®Œæ•´çš„ä¸­æ–‡ä½¿ç”¨æ–‡æ¡£ï¼ŒåŒ…å«5ä¸ªå®æˆ˜ç¤ºä¾‹
- **[HOW_TO_USE.md](docs/HOW_TO_USE.md)** - English version
- **[IMPLEMENTATION_SUMMARY.md](docs/IMPLEMENTATION_SUMMARY.md)** - é¡¹ç›®å®ç°æ€»ç»“

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

è¯¦ç»†ç¤ºä¾‹è¯·æŸ¥çœ‹ [ä½¿ç”¨æŒ‡å—.md](docs/ä½¿ç”¨æŒ‡å—.md)ï¼ŒåŒ…æ‹¬ï¼š

1. æŸ¥æ‰¾è¡¨ç°æœ€å¥½çš„è‚¡ç¥¨
2. ä½¿ç”¨åˆ¤æ–­å‡½æ•°
3. è®¡ç®—è‡ªå®šä¹‰æŒ‡æ ‡
4. å¯»æ‰¾çªç ´è‚¡ç¥¨
5. è®¡ç®—æŠ•èµ„ç»„åˆæ”¶ç›Š

## ğŸ“ˆ ç­–ç•¥ç³»ç»Ÿ

### å†…ç½®ç­–ç•¥

1. **Momentum Strategy (åŠ¨é‡ç­–ç•¥)** - é€‚åˆç‰›å¸‚ã€ä¸Šå‡è¶‹åŠ¿
2. **Mean Reversion Strategy (å‡å€¼å›å½’ç­–ç•¥)** - é€‚åˆéœ‡è¡å¸‚åœº
3. **Breakout Strategy (çªç ´ç­–ç•¥)** - é€‚åˆç›˜æ•´åçªç ´

### ä½¿ç”¨ç­–ç•¥

```python
from script.strategy_manager import StrategyManager

mgr = StrategyManager()

# å•ä¸€ç­–ç•¥
strategy = mgr.get_strategy('momentum')
signal = strategy.analyze('AAPL')

# å¯¹æ¯”æ‰€æœ‰ç­–ç•¥
comparison = mgr.compare_strategies('AAPL')

# ç­–ç•¥ç»„åˆ
combo = mgr.create_combo(['momentum', 'mean_reversion'], weights=[0.7, 0.3])
```

### è‡ªå®šä¹‰ç­–ç•¥

å¤åˆ¶æ¨¡æ¿åˆ›å»ºä½ è‡ªå·±çš„ç­–ç•¥ï¼š
```bash
cp script/strategies/custom_template.py script/strategies/my_strategy.py
```

è¯¦è§: [ç­–ç•¥ç³»ç»Ÿä½¿ç”¨æŒ‡å—](docs/ç­–ç•¥ç³»ç»Ÿä½¿ç”¨æŒ‡å—.md)

---

## ğŸ”§ æ•°æ®åº“æ¶æ„

16ä¸ªè¡¨ï¼Œ38ä¸ªç´¢å¼•ï¼š

**æ ¸å¿ƒè¡¨**:
- `stocks` - è‚¡ç¥¨ä¸»è¡¨
- `price_history` - ä»·æ ¼å†å²
- `data_metadata` - å…ƒæ•°æ®è·Ÿè¸ª

**åŸºæœ¬é¢è¡¨**:
- `dividends` - åˆ†çº¢
- `stock_splits` - æ‹†è‚¡
- `financials` - è´¢åŠ¡æŠ¥è¡¨
- `earnings` - æ”¶ç›Š

**åˆ†æå¸ˆè¡¨**:
- `analyst_ratings` - åˆ†æå¸ˆè¯„çº§
- `price_targets` - ä»·æ ¼ç›®æ ‡
- `institutional_holders` - æœºæ„æŒä»“
- `insider_transactions` - å†…éƒ¨äº¤æ˜“

**æœŸæƒ/æŒ‡æ ‡è¡¨**:
- `options_chain` - æœŸæƒé“¾
- `technical_indicators` - æŠ€æœ¯æŒ‡æ ‡

**è§‚å¯Ÿæ¨¡å¼è¡¨** (æ–°å¢):
- `intraday_price` - åˆ†é’Ÿçº§ä»·æ ¼æ•°æ®
- `watchlist` - è§‚å¯Ÿåˆ—è¡¨
- `daily_reports` - æ¯æ—¥æŠ¥å‘Šå­˜æ¡£

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

- WALæ¨¡å¼å¯ç”¨
- æ‰¹é‡æ’å…¥ä¼˜åŒ–
- å¢é‡æ›´æ–°æ”¯æŒ
- ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢

## ğŸ¯ ä¸‹ä¸€æ­¥

ä½ å¯ä»¥ï¼š
1. âœ… æŸ¥è¯¢ä»»ä½•è‚¡ç¥¨çš„å†å²æ•°æ®
2. âœ… ä½¿ç”¨judgeå‡½æ•°å¿«é€Ÿåˆ¤æ–­ä¹°å–
3. âœ… ç¼–å†™è‡ªå·±çš„é‡åŒ–ç­–ç•¥
4. âœ… å›æµ‹äº¤æ˜“ç­–ç•¥
5. âœ… å¯»æ‰¾æŠ•èµ„æœºä¼š

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2025-12-29**: é¡¹ç›®å®Œæˆï¼Œä¸‹è½½å…¨éƒ¨2,156åªè‚¡ç¥¨æ•°æ®
- **2025-12-28**: æ•°æ®åº“è®¾è®¡å’ŒAPIå®ç°
- **2025-12-28**: Phase 1-4 å®Œæˆ

---

**æœ€åæ›´æ–°**: 2025-12-29
**æ•°æ®æ–°é²œåº¦**: 2025-12-26
